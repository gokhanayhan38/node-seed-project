"use strict";

const fetchHelpers = require(".");
const assert = require("assert");
const {Promise} = require("node-fetch");

testFetchHelpersGet();
testFetchHelpersPost();

console.log("Test case: fetchHelpers");

var value = {
	"b": "10",
	"a": "5"
};

function testFetchHelpersGet() {
	fetchHelpers.get({
		origin: "http://echo.jsontest.com",
		path: "/a/5/b/10"
	}).then(response => {
		assert.deepEqual(value,response);
		console.log("testFetchHelpersGet OK.");
	}).catch(err => {
		console.error(err.message);
	});
}


function testFetchHelpersPost() {
	fetchHelpers.post({
		origin: "http://echo.jsontest.com",
		path: "/a/5/b/10",
		body: value
	}).then(response => {
		assert.deepEqual(value,response);
		console.log("testFetchHelpersPost OK.");
	}).catch(err => {
		console.error(err.message);
	});
}
